# 🧪 배포 테스트 가이드

**배포 URL**: https://lo645251227.streamlit.app/
**날짜**: 2026-01-08
**버전**: v6.0.0 (프리미엄 기능)

---

## ✅ 배포 확인 체크리스트

### 1단계: 기본 기능 테스트

**앱 접속**

- [ ] https://lo645251227.streamlit.app/ 브라우저에서 열기
- [ ] 로딩 완료 (스피너가 사라짐)
- [ ] 에러 메시지 없음

**홈 페이지**

- [ ] 🏠 홈 페이지 정상 표시
- [ ] "로또 645 데이터 분석 시스템" 타이틀 확인
- [ ] 데이터 요약 카드 표시 (총 회차, 평균 당첨금 등)
- [ ] 최근 10회 당첨번호 테이블 표시

**기본 메뉴 테스트**

- [ ] 📊 데이터 탐색 - 정상 작동
- [ ] 🎯 번호 추천 - 정상 작동
- [ ] 🔍 번호 분석 - 정상 작동
- [ ] 🤖 예측 모델 - 정상 작동
- [ ] 🎨 그리드 패턴 - 정상 작동

---

### 2단계: 프리미엄 기능 테스트 (중요!)

**백테스팅 페이지 접속**

1. [ ] 왼쪽 사이드바에서 **🔬 백테스팅 결과** 클릭
2. [ ] 백테스팅 페이지 로딩 확인
3. [ ] 3개 탭 표시 확인:
   - 📊 백테스팅 결과
   - ⚙️ 가중치 최적화
   - 🚀 실시간 재학습

**Tab 1: 백테스팅 결과 (무료)**

- [ ] Tab 1 클릭
- [ ] "아직 백테스팅을 실행하지 않았습니다" 또는 결과 표시
- [ ] 정상 작동 (잠금 없음)

**Tab 2: 가중치 최적화 (프리미엄) 🔒**

- [ ] **Tab 2 클릭**
- [ ] ⚠️ **"이 기능은 프리미엄 전용입니다"** 경고 메시지 표시
- [ ] 액세스 코드 입력창 표시
- [ ] Placeholder: "PREM-XXXX-XXXX"
- [ ] 🔓 잠금 해제 버튼 표시
- [ ] 설명 텍스트:

  ```
  💡 가중치 최적화란?

  백테스팅을 통해 최적의 가중치 조합을 자동으로 찾아주는 고급 기능입니다:
  - Random Search로 최적점 탐색
  - 정밀 Grid Search로 미세 조정
  - 3개 이상 일치율을 극대화하는 가중치 발견

  프리미엄 액세스 코드로 이 기능을 사용할 수 있습니다.
  ```

**Tab 3: 실시간 재학습 (프리미엄) 🔒**

- [ ] **Tab 3 클릭**
- [ ] ⚠️ **"이 기능은 프리미엄 전용입니다"** 경고 메시지 표시
- [ ] 액세스 코드 입력창 표시
- [ ] 🔓 잠금 해제 버튼 표시
- [ ] 설명 텍스트:

  ```
  💡 실시간 재학습이란?

  최적화된 가중치로 모델을 다시 학습하고 번호를 추천하는 고급 기능입니다:
  - 최적 가중치 자동 적용
  - 최신 데이터 반영
  - 고품질 번호 추천

  프리미엄 액세스 코드로 이 기능을 사용할 수 있습니다.
  ```

---

### 3단계: 프리미엄 인증 테스트

**잘못된 코드 테스트**

- [ ] Tab 2에서 액세스 코드 입력: `WRONG-CODE`
- [ ] 🔓 잠금 해제 버튼 클릭
- [ ] ❌ **"유효하지 않은 액세스 코드입니다"** 오류 메시지 표시
- [ ] 기능 여전히 잠김

**올바른 코드 테스트**

- [ ] 액세스 코드 입력: `PREM-0EEX-COTJ`
- [ ] 🔓 잠금 해제 버튼 클릭
- [ ] ✅ **"프리미엄 기능이 잠금 해제되었습니다!"** 성공 메시지
- [ ] 🎈 풍선(balloons) 효과 표시
- [ ] 페이지 자동 새로고침(rerun)
- [ ] ✅ **"프리미엄 기능 활성화됨"** 초록색 배너 표시
- [ ] Tab 2 전체 기능 표시:
  - 최소 학습 회차 슬라이더
  - Random Search 시도 횟수 슬라이더
  - 정밀 Grid Search 체크박스
  - 테스트 회차 수 슬라이더
  - 🚀 백테스팅 시작 버튼

**세션 지속성 테스트**

- [ ] Tab 3 클릭
- [ ] ✅ **"프리미엄 기능 활성화됨"** 배너 표시 (재입력 불필요)
- [ ] Tab 3 전체 기능 표시:
  - 현재 최적 가중치 표시 (또는 경고 메시지)
  - 추천 개수 슬라이더
  - 🔄 재학습 & 추천 생성 버튼

**페이지 이동 후 세션 유지**

- [ ] 다른 페이지로 이동 (예: 🏠 홈)
- [ ] 다시 🔬 백테스팅 결과 → Tab 2 클릭
- [ ] ✅ 여전히 "프리미엄 기능 활성화됨" 상태 유지
- [ ] 코드 재입력 불필요

---

### 4단계: 추가 테스트 (선택)

**브라우저 재시작 테스트**

- [ ] 브라우저 완전히 종료
- [ ] 다시 앱 접속
- [ ] 🔬 백테스팅 결과 → Tab 2 클릭
- [ ] 🔒 다시 잠금 상태 (정상 동작)
- [ ] 코드 재입력 필요

**다른 액세스 코드 테스트**

- [ ] 코드 입력: `PREM-0FDG-I2RN`
- [ ] 잠금 해제 성공

---

## 🐛 예상 문제 및 해결

### 문제 1: Tab 2, Tab 3에서 잠금 UI가 안 보임

**증상**: 코드 입력창 없이 바로 기능 표시
**원인**: Secrets 설정이 안 됨 또는 환경 감지 오류
**해결**:

1. Streamlit Cloud → Settings → Secrets 재확인
2. 앱 재시작: Settings → Reboot app

### 문제 2: "프리미엄 기능 활성화됨" 대신 "로컬 환경" 메시지

**증상**: "✅ 로컬 환경 - 프리미엄 기능 자동 활성화" 표시
**원인**: 환경 감지가 로컬로 오판
**해결**:

- Streamlit Cloud 환경변수 확인 필요
- 정상 작동하므로 기능상 문제 없음

### 문제 3: Secrets 관련 에러

**증상**: "KeyError: 'premium'" 또는 "st.secrets has no attribute 'premium'"
**원인**: Secrets TOML 문법 오류
**해결**:

1. Secrets 에디터에서 문법 확인
2. `[premium]` 섹션 존재 확인
3. `access_codes` 배열 확인

### 문제 4: 코드 입력 후 아무 반응 없음

**증상**: 버튼 클릭해도 변화 없음
**원인**: 앱 로딩 중 또는 Secrets 미적용
**해결**:

1. 페이지 새로고침(F5)
2. 앱 로그 확인: Settings → Logs

---

## ✅ 테스트 완료 기준

**필수 체크 (모두 ✅)**:

1. ✅ Tab 2, Tab 3에서 🔒 잠금 UI 표시
2. ✅ 올바른 코드로 잠금 해제 성공
3. ✅ 잠금 해제 후 전체 기능 표시
4. ✅ 세션 유지 확인
5. ✅ 잘못된 코드는 거부됨

**통과 조건**: 위 5개 모두 ✅

---

## 📊 테스트 결과 기록

**날짜**: ******\_\_\_******
**테스터**: ******\_\_\_******
**배포 URL**: https://lo645251227.streamlit.app/

**결과**:

- [ ] ✅ 모든 테스트 통과
- [ ] ⚠️ 일부 문제 발견 (아래 기록)
- [ ] ❌ 심각한 문제 발견

**문제 사항** (있는 경우):

```
(여기에 문제 기록)
```

**스크린샷** (선택):

- Tab 2 잠금 화면
- 잠금 해제 성공 화면
- 프리미엄 기능 활성화 화면

---

**테스트 완료 후 이 파일을 확인해주세요!** ✅
